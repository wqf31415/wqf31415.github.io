---
title: 读《Arduino程序设计基础》
tags:
  - arduino
  - 笔记
categories:
  - 读书
date: 2019-12-17 22:39:46
---

### 概述

这篇文章主要记录了读陈吕洲著的《Arduino程序设计基础》之后，记录的笔记，包含使用arduino开发硬件的一些基础知识点。

![](http://blog-images.qiniu.wqf31415.xyz/arduino_book.jpg)

### 关于本书

#### 书

《Arduino程序设计基础（第二版）》，涵盖了 Arduino 基础知识和高级应用，中间穿插简单的项目，同时列举了常用的 API 参考。本书主要针对本科生及研究生阶段的 Arduino 教学实验进行编写，也适用于相关开发人员及入门者学习。

#### 作者

陈吕洲：Arduino 中文社区创始人，曾今的机器人竞赛选手。现从事3D打印机设计与开发，业余从事开源硬件开发与推广。



<!-- more -->



### 笔记

#### 基础篇

##### Arduino 语言

通常所说的 Arduino 语言是指 Arduino 核心库文件提供的各种程序接口 (API) 的集合。这些API 是对更底层单片机支持库进行二次封装形成的，为我们屏蔽了底层复杂的实现机制，使得更多的人能够掌握，同时也让程序更容易阅读，也提升了开发效率。在 Arduino 中的核心库采用 C/C++ 混合编写，我们写Arduino 程序时也使用 C/C++ 完成。

##### Arduino 程序结构

在 Arduino 程序中由两个基本函数构成，setup() 函数只会在程序运行之初运行一次，一般用于初始化设置，如配置 I/O 口状态和初始化串口等操作；loop() 函数在 setup() 函数执行完成后开始执行，随后重复运行。

##### C/C++ 语言基础

###### 数据类型

- 常量与变量

  - **常量** 在程序运行过程中，值不能改变的量称为常量，常量可以是字符，也可以是数字，常量通常使用 `#define 常量名 常量值` ，常量名一般习惯用大写字母表示。

  - **变量** 在程序运行过程中可变的值称为变量。定义方法是 `类型 变量名` ，可以在定义变量时为其赋值，也可以再定义之后赋值，例如：

    ```c++
    int i = 1;
    ```

    和

    ```c++
    int i;
    i = 1;
    ```

    是等价的。

- 数据类型

  - **整形** 整数类型。

  - **浮点型** 即为平时说的实数，小数。在 arduino 中有 float 和 double 两种浮点类型，但在使用 AVR 作为控制核心的 Arduino （UNO、MEGA等）上，两者精度是一样的，都占 4 字节（32位）存储空间。在 Arduino Due 中，double 类型占 8 字节（64位）存储空间。

    > 浮点型数据计算较慢且有一定误差，因此，通常将浮点型转换成整形来处理，如9.8cm，通常会转换成 98mm来计算。

  - **字符型** 即 char 类型，占 1 字节存储空间，主要用于存储字符变量。在存储字符时需要用单引号引用，如 `char col = 'C'` 。

    > 字符都是以数字形式存储在 char 类型变量中的，数字与字符的对应关系可以参照 ASCII 码表。

  - **布尔型** 即 boolean 类型，占 1 个字节存储空间，值只有两个：false（假）和 true（真）。

###### 运算符

- 算术运算符

  | 运算符 | 说明 |
  | :----: | :--: |
  |   =    | 赋值 |
  |   +    |  加  |
  |   -    |  减  |
  |   *    |  乘  |
  |   /    |  除  |
  |   %    | 取模 |

- 比较运算符

  | 运算符 |   说明   |
  | :----: | :------: |
  |   ==   |   等于   |
  |   !=   |  不等于  |
  |   <    |   小于   |
  |   >    |   大于   |
  |   <=   | 小于等于 |
  |   >=   | 大于等于 |

- 逻辑运算符

  | 运算符 |  说明  |
  | :----: | :----: |
  |   &&   | 逻辑与 |
  |  \|\|  | 逻辑或 |
  |   !    | 逻辑非 |

- 复合运算符

  | 运算符 |  说明  |
  | :----: | :----: |
  |   ++   |  自加  |
  |   --   |  自减  |
  |   +=   | 复合加 |
  |   -=   | 复合减 |

###### 表达式

用运算符将运算对象连接起来的式子称为表达式，如  `1 + 2` 、 `a - b` 、 `5 > 3` 等。

###### 数组

数组是一组相同类型的数据构成的集合。定义方式为 `数据类型 数组名称[元素个数];` ，如定义一个有 5 个元素的整形数组：`int a[5];` 

访问数组中的元素时可以使用 `数组名称[下标]` ，需要注意的是数组下标是从 0 开始的，因此访问数组中的第一个元素时，下标是 0 。如将数组第一个元素赋值为 1 的代码：`a[0] = 1;`

可以使用下标给数组元素进行赋值，也可以在定义数组时进行赋值，如：

```c++
int a[5] = {1, 2, 3, 4, 5};
```

###### 字符串

字符串的定义有两种方式，一种是字符数组，另一种是使用 String 来定义。

以字符数组方式定义的语句为 `char 字符串名称[字符个数];` ，用法与数组的用法一致，有多少个字符就用多少字节的存储空间。

大多数情况下使用 String 类型来定义字符串，该类型提供了一些操作字符串的成员函数，是的字符串使用起来更加灵活。定义语句为：`String 字符串名称;` ，可以在定义时进行赋值，也可以在定义后进行赋值。如

```c++
String str = "abc";
String str2;
str2 = "abc";
```

> 相较于数组形式的定义方法，使用 String 类型定义字符串会占用更多的存储空间，毕竟 String 定义的是一个对象。

###### 注释

`/` 和 `/` 之间的内容以及 `//` 之后的内容都是程序注释，不会被编译到程序中，因此不影响程序运行。

##### I/O 口的简单应用

###### 数字 I/O 口的使用

**数字信号** 是以 0 和 1 表示的不连续信号，也就是二进制形式的信号。在 Arduino 中数字信号以高低电平来表示，高电平为数字 1 ，低电平为数字 0 。

> Arduino 上每个带有数字编号的引脚都是数字引脚，包括写有 `A` 编号的模拟输入引脚。用这些引脚可以完成输入/输出数字信号的功能。

使用数字引脚时，需要先设置引脚的模式，使用 pinMode 函数设置指定引脚的工作模式：`pinMode(pin,mode);` 参数 pin 为引脚编号，参数 mode 为引脚工作模式，有如下 3 种工作模式：

|   模式名称   |     说明     |
| :----------: | :----------: |
|    INPUT     |   输入模式   |
|    OUTPUT    |   输出模式   |
| INPUT_PULLUP | 输入上拉模式 |



#### I/O 口高级应用



#### 使用和编写类库



#### 通信篇



#### 存储篇



#### 无线通信篇



#### LCD显示篇



#### USB 类库使用



#### Ethernet 类库使用



### 读后感

这本书非常适合初学者，涉及的内容很全面，而且讲解由浅入深很容易理解。看了这本书后，不仅学到了 arduino 的开发，还学到了一些硬件的原理。